
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>ACMECert - fruithost</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.472b142f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings1.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#acmecert" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="fruithost" class="md-header__button md-logo" aria-label="fruithost" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            fruithost
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ACMECert
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/fruithost/Documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="fruithost" class="md-nav__button md-logo" aria-label="fruithost" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    fruithost
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/fruithost/Documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        Panel
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Default
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Default" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Default
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          Js
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Js" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Js
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1_1" type="checkbox" id="__nav_2_1_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1_1">
          Codemirror
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Codemirror" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_1_1">
          <span class="md-nav__icon md-icon"></span>
          Codemirror
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../default/js/codemirror/index.html" class="md-nav__link">
        How to Build?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Libraries
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Libraries" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Libraries
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          Parsedown
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Parsedown" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Parsedown
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Parsedown/index.html" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          Skoerfgen
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Skoerfgen" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Skoerfgen
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          ACMECert
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="index.html" class="md-nav__link md-nav__link--active">
        ACMECert
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    Description
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#require-acmecert" class="md-nav__link">
    Require ACMECert
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-examples" class="md-nav__link">
    Usage / Examples
  </a>
  
    <nav class="md-nav" aria-label="Usage / Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#choose-certificate-authority-ca" class="md-nav__link">
    Choose Certificate Authority (CA)
  </a>
  
    <nav class="md-nav" aria-label="Choose Certificate Authority (CA)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lets-encrypt" class="md-nav__link">
    Let's Encrypt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buypass" class="md-nav__link">
    Buypass
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-trust-services" class="md-nav__link">
    Google Trust Services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sslcom" class="md-nav__link">
    SSL.com
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zerossl" class="md-nav__link">
    ZeroSSL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#or-any-other-acme-v2-rfc-8555-compatible-ca" class="md-nav__link">
    or any other (ACME v2 - RFC 8555) compatible CA
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-rsa-private-key" class="md-nav__link">
    Generate RSA Private Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-ec-private-key" class="md-nav__link">
    Generate EC Private Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-account-key-with-ca" class="md-nav__link">
    Register Account Key with CA
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-account-key-with-ca-using-external-account-binding" class="md-nav__link">
    Register Account Key with CA using External Account Binding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-certificate-using-http-01-challenge" class="md-nav__link">
    Get Certificate using http-01 challenge
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-certificate-using-all-http-01dns-01-and-tls-alpn-01-challenge-types-together" class="md-nav__link">
    Get Certificate using all (http-01,dns-01 and tls-alpn-01) challenge types together
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-alternate-chains" class="md-nav__link">
    Get alternate chains
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revoke-certificate" class="md-nav__link">
    Revoke Certificate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-account-information" class="md-nav__link">
    Get Account Information
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#account-key-roll-over" class="md-nav__link">
    Account Key Roll-over
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deactivate-account" class="md-nav__link">
    Deactivate Account
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-remaining-days" class="md-nav__link">
    Get Remaining Days
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    Logging
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acme_exception" class="md-nav__link">
    ACME_Exception
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-reference" class="md-nav__link">
    Function Reference
  </a>
  
    <nav class="md-nav" aria-label="Function Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acmecert__construct" class="md-nav__link">
    ACMECert::__construct
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::__construct">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgeneratersakey" class="md-nav__link">
    ACMECert::generateRSAKey
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::generateRSAKey">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_1" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_1" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgenerateeckey" class="md-nav__link">
    ACMECert::generateECKey
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::generateECKey">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_2" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_2" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_1" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertloadaccountkey" class="md-nav__link">
    ACMECert::loadAccountKey
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::loadAccountKey">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_3" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_3" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_2" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertregister" class="md-nav__link">
    ACMECert::register
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::register">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_4" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_4" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_3" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertregistereab" class="md-nav__link">
    ACMECert::registerEAB
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::registerEAB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_5" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_5" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_4" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertupdate" class="md-nav__link">
    ACMECert::update
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::update">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_6" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_6" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_5" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgetaccount" class="md-nav__link">
    ACMECert::getAccount
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getAccount">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#return-values_7" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_6" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgetaccountid" class="md-nav__link">
    ACMECert::getAccountID
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getAccountID">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#return-values_8" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_7" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertkeychange" class="md-nav__link">
    ACMECert::keyChange
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::keyChange">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_7" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_9" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_8" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertdeactivateaccount" class="md-nav__link">
    ACMECert::deactivateAccount
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::deactivateAccount">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#return-values_10" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_9" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgetcertificatechain" class="md-nav__link">
    ACMECert::getCertificateChain
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getCertificateChain">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_8" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_11" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_10" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgetcertificatechains" class="md-nav__link">
    ACMECert::getCertificateChains
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getCertificateChains">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#return-values_12" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_11" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertrevoke" class="md-nav__link">
    ACMECert::revoke
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::revoke">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_9" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_13" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_12" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgeneratecsr" class="md-nav__link">
    ACMECert::generateCSR
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::generateCSR">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_10" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_14" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_13" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgeneratealpncertificate" class="md-nav__link">
    ACMECert::generateALPNCertificate
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::generateALPNCertificate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_11" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_15" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_14" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertparsecertificate" class="md-nav__link">
    ACMECert::parseCertificate
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::parseCertificate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_12" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_16" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_15" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgetremainingdays" class="md-nav__link">
    ACMECert::getRemainingDays
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getRemainingDays">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_13" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_17" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_16" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertsplitchain" class="md-nav__link">
    ACMECert::splitChain
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::splitChain">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_14" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_18" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_17" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgetcaaidentities" class="md-nav__link">
    ACMECert::getCAAIdentities
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getCAAIdentities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#return-values_19" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_18" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgetsan" class="md-nav__link">
    ACMECert::getSAN
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getSAN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_15" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_20" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_19" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgettermsurl" class="md-nav__link">
    ACMECert::getTermsURL
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getTermsURL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#return-values_21" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_20" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="LICENSE.html" class="md-nav__link">
        LICENSE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../print_page.html" class="md-nav__link">
        Print as PDF
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    Description
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#require-acmecert" class="md-nav__link">
    Require ACMECert
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-examples" class="md-nav__link">
    Usage / Examples
  </a>
  
    <nav class="md-nav" aria-label="Usage / Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#choose-certificate-authority-ca" class="md-nav__link">
    Choose Certificate Authority (CA)
  </a>
  
    <nav class="md-nav" aria-label="Choose Certificate Authority (CA)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lets-encrypt" class="md-nav__link">
    Let's Encrypt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buypass" class="md-nav__link">
    Buypass
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-trust-services" class="md-nav__link">
    Google Trust Services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sslcom" class="md-nav__link">
    SSL.com
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zerossl" class="md-nav__link">
    ZeroSSL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#or-any-other-acme-v2-rfc-8555-compatible-ca" class="md-nav__link">
    or any other (ACME v2 - RFC 8555) compatible CA
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-rsa-private-key" class="md-nav__link">
    Generate RSA Private Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-ec-private-key" class="md-nav__link">
    Generate EC Private Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-account-key-with-ca" class="md-nav__link">
    Register Account Key with CA
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-account-key-with-ca-using-external-account-binding" class="md-nav__link">
    Register Account Key with CA using External Account Binding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-certificate-using-http-01-challenge" class="md-nav__link">
    Get Certificate using http-01 challenge
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-certificate-using-all-http-01dns-01-and-tls-alpn-01-challenge-types-together" class="md-nav__link">
    Get Certificate using all (http-01,dns-01 and tls-alpn-01) challenge types together
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-alternate-chains" class="md-nav__link">
    Get alternate chains
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revoke-certificate" class="md-nav__link">
    Revoke Certificate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-account-information" class="md-nav__link">
    Get Account Information
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#account-key-roll-over" class="md-nav__link">
    Account Key Roll-over
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deactivate-account" class="md-nav__link">
    Deactivate Account
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-remaining-days" class="md-nav__link">
    Get Remaining Days
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    Logging
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acme_exception" class="md-nav__link">
    ACME_Exception
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-reference" class="md-nav__link">
    Function Reference
  </a>
  
    <nav class="md-nav" aria-label="Function Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acmecert__construct" class="md-nav__link">
    ACMECert::__construct
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::__construct">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgeneratersakey" class="md-nav__link">
    ACMECert::generateRSAKey
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::generateRSAKey">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_1" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_1" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgenerateeckey" class="md-nav__link">
    ACMECert::generateECKey
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::generateECKey">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_2" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_2" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_1" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertloadaccountkey" class="md-nav__link">
    ACMECert::loadAccountKey
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::loadAccountKey">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_3" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_3" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_2" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertregister" class="md-nav__link">
    ACMECert::register
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::register">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_4" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_4" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_3" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertregistereab" class="md-nav__link">
    ACMECert::registerEAB
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::registerEAB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_5" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_5" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_4" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertupdate" class="md-nav__link">
    ACMECert::update
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::update">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_6" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_6" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_5" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgetaccount" class="md-nav__link">
    ACMECert::getAccount
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getAccount">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#return-values_7" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_6" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgetaccountid" class="md-nav__link">
    ACMECert::getAccountID
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getAccountID">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#return-values_8" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_7" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertkeychange" class="md-nav__link">
    ACMECert::keyChange
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::keyChange">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_7" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_9" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_8" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertdeactivateaccount" class="md-nav__link">
    ACMECert::deactivateAccount
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::deactivateAccount">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#return-values_10" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_9" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgetcertificatechain" class="md-nav__link">
    ACMECert::getCertificateChain
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getCertificateChain">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_8" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_11" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_10" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgetcertificatechains" class="md-nav__link">
    ACMECert::getCertificateChains
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getCertificateChains">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#return-values_12" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_11" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertrevoke" class="md-nav__link">
    ACMECert::revoke
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::revoke">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_9" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_13" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_12" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgeneratecsr" class="md-nav__link">
    ACMECert::generateCSR
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::generateCSR">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_10" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_14" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_13" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgeneratealpncertificate" class="md-nav__link">
    ACMECert::generateALPNCertificate
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::generateALPNCertificate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_11" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_15" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_14" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertparsecertificate" class="md-nav__link">
    ACMECert::parseCertificate
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::parseCertificate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_12" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_16" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_15" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgetremainingdays" class="md-nav__link">
    ACMECert::getRemainingDays
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getRemainingDays">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_13" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_17" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_16" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertsplitchain" class="md-nav__link">
    ACMECert::splitChain
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::splitChain">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_14" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_18" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_17" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgetcaaidentities" class="md-nav__link">
    ACMECert::getCAAIdentities
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getCAAIdentities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#return-values_19" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_18" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgetsan" class="md-nav__link">
    ACMECert::getSAN
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getSAN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_15" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-values_20" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_19" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acmecertgettermsurl" class="md-nav__link">
    ACMECert::getTermsURL
  </a>
  
    <nav class="md-nav" aria-label="ACMECert::getTermsURL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#return-values_21" class="md-nav__link">
    Return Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorsexceptions_20" class="md-nav__link">
    Errors/Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
                  

  <a href="https://github.com/fruithost/Documentation/edit/main/src/libraries/skoerfgen/README.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="acmecert">ACMECert</h1>
<p>PHP client library for <a href="https://letsencrypt.org/">Let's Encrypt</a> and other <a href="https://tools.ietf.org/html/rfc8555">ACME v2 - RFC 8555</a> compatible Certificate Authorities.<br />
Version: 3.2.2</p>
<h2 id="description">Description</h2>
<p>ACMECert is designed to help you to setup an automated SSL/TLS-certificate/renewal process
with a few lines of PHP.</p>
<p>It is self contained and contains a set of functions allowing you to:</p>
<ul>
<li>generate <a href="#acmecertgeneratersakey">RSA</a> / <a href="#acmecertgenerateeckey">EC (Elliptic Curve)</a> keys</li>
<li>manage account: <a href="#acmecertregister">register</a>/<a href="#acmecertregistereab">External Account Binding (EAB)</a>/<a href="#acmecertupdate">update</a>/<a href="#acmecertdeactivateaccount">deactivate</a> and <a href="#acmecertkeychange">account key roll-over</a></li>
<li><a href="#acmecertgetcertificatechain">get</a>/<a href="#acmecertrevoke">revoke</a> certificates (to renew a certificate just get a new one)</li>
<li><a href="#acmecertparsecertificate">parse certificates</a> / get the <a href="#acmecertgetremainingdays">remaining days</a> a certificate is still valid</li>
<li>and more..<blockquote>
<p>see <a href="#function-reference">Function Reference</a> for a full list</p>
</blockquote>
</li>
</ul>
<p>It abstracts away the complexity of the ACME protocol to get a certificate
(create order, fetch authorizations, compute challenge tokens, polling for status, generate CSR,
finalize order, request certificate) into a single function <a href="#acmecertgetcertificatechain">getCertificateChain</a> (or <a href="#acmecertgetcertificatechains">getCertificateChains</a> to also get all alternate chains),
where you specify a set of domains you want to get a certificate for and which challenge type to use (all <a href="https://letsencrypt.org/docs/challenge-types/">challenge types</a> are supported).
This function takes as third argument a user-defined callback function which gets
invoked every time a challenge needs to be fulfilled. It is up to you to set/remove the challenge tokens:</p>
<div class="highlight"><pre><span></span><code><span class="x">$handler=function($opts){</span>
<span class="x">  // Write code to setup the challenge token here.</span>

<span class="x">  // Return a function that gets called when the challenge token should be removed again:</span>
<span class="x">  return function($opts){</span>
<span class="x">    // Write code to remove previously setup challenge token.</span>
<span class="x">  };</span>
<span class="x">};</span>

<span class="x">$ac-&gt;getCertificateChain(..., ..., $handler);</span>
</code></pre></div>
<blockquote>
<p>see description of <a href="#acmecertgetcertificatechain">getCertificateChain</a> for details about the callback function.</p>
<p>also see the <a href="#get-certificate-using-http-01-challenge">Get Certificate</a> examples below.</p>
</blockquote>
<p>Instead of returning <code>FALSE</code> on error, every function in ACMECert throws an <a href="http://php.net/manual/en/class.exception.php">Exception</a>
if it fails or an <a href="#acme_exception">ACME_Exception</a> if the ACME-Server reponded with an error message.</p>
<h2 id="requirements">Requirements</h2>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> PHP 5.3 or higher (for EC keys PHP 7.1 or higher is required)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <a href="https://www.php.net/manual/de/book.openssl.php">OpenSSL extension</a></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> enabled <a href="https://www.php.net/manual/en/filesystem.configuration.php#ini.allow-url-fopen">fopen wrappers</a> (allow_url_fopen=1) <strong>or</strong> <a href="https://www.php.net/manual/en/book.curl.php">cURL extension</a></li>
</ul>
<h2 id="require-acmecert">Require ACMECert</h2>
<p>manual download: https://github.com/skoerfgen/ACMECert/archive/master.zip</p>
<p>usage:</p>
<div class="highlight"><pre><span></span><code><span class="x">require &#39;ACMECert.php&#39;;</span>

<span class="x">use skoerfgen\ACMECert\ACMECert;</span>
</code></pre></div>
<hr />
<p>or download it using <a href="https://git-scm.com/">git</a>:</p>
<p><div class="highlight"><pre><span></span><code>git clone https://github.com/skoerfgen/ACMECert
</code></pre></div>
usage:</p>
<div class="highlight"><pre><span></span><code><span class="x">require &#39;ACMECert/ACMECert.php&#39;;</span>

<span class="x">use skoerfgen\ACMECert\ACMECert;</span>
</code></pre></div>
<hr />
<p>or download it using <a href="https://getcomposer.org">composer</a>:
<div class="highlight"><pre><span></span><code>composer require skoerfgen/acmecert
</code></pre></div></p>
<p>usage:</p>
<div class="highlight"><pre><span></span><code><span class="x">require &#39;vendor/autoload.php&#39;;</span>

<span class="x">use skoerfgen\ACMECert\ACMECert;</span>
</code></pre></div>
<h2 id="usage-examples">Usage / Examples</h2>
<ul>
<li><a href="https://github.com/skoerfgen/ACMECert/wiki/Simple-example-to-get-started">Simple example to get started</a></li>
</ul>
<h4 id="choose-certificate-authority-ca">Choose Certificate Authority (CA)</h4>
<h5 id="lets-encrypt"><a href="https://letsencrypt.org/">Let's Encrypt</a></h5>
<blockquote>
<p>Live CA
<div class="highlight"><pre><span></span><code><span class="x">$ac=new ACMECert(&#39;https://acme-v02.api.letsencrypt.org/directory&#39;);</span>
</code></pre></div></p>
<p>Staging CA
<div class="highlight"><pre><span></span><code><span class="x">$ac=new ACMECert(&#39;https://acme-staging-v02.api.letsencrypt.org/directory&#39;);</span>
</code></pre></div></p>
</blockquote>
<h5 id="buypass"><a href="https://buypass.com/">Buypass</a></h5>
<blockquote>
<p>Live CA
<div class="highlight"><pre><span></span><code><span class="x">$ac=new ACMECert(&#39;https://api.buypass.com/acme/directory&#39;);</span>
</code></pre></div></p>
<p>Staging CA
<div class="highlight"><pre><span></span><code><span class="x">$ac=new ACMECert(&#39;https://api.test4.buypass.no/acme/directory&#39;);</span>
</code></pre></div></p>
</blockquote>
<h5 id="google-trust-services"><a href="https://pki.goog/">Google Trust Services</a></h5>
<blockquote>
<p>Live CA
<div class="highlight"><pre><span></span><code><span class="x">$ac=new ACMECert(&#39;https://dv.acme-v02.api.pki.goog/directory&#39;);</span>
</code></pre></div></p>
<p>Staging CA
<div class="highlight"><pre><span></span><code><span class="x">$ac=new ACMECert(&#39;https://dv.acme-v02.test-api.pki.goog/directory&#39;);</span>
</code></pre></div></p>
</blockquote>
<h5 id="sslcom"><a href="https://www.ssl.com/">SSL.com</a></h5>
<blockquote>
<p>Live CA
<div class="highlight"><pre><span></span><code><span class="x">$ac=new ACMECert(&#39;https://acme.ssl.com/sslcom-dv-rsa&#39;);</span>
</code></pre></div></p>
</blockquote>
<h5 id="zerossl"><a href="https://zerossl.com/">ZeroSSL</a></h5>
<blockquote>
<p>Live CA
<div class="highlight"><pre><span></span><code><span class="x">$ac=new ACMECert(&#39;https://acme.zerossl.com/v2/DV90&#39;);</span>
</code></pre></div></p>
</blockquote>
<h5 id="or-any-other-acme-v2-rfc-8555-compatible-ca">or any other (<a href="https://tools.ietf.org/html/rfc8555">ACME v2 - RFC 8555</a>) compatible CA</h5>
<div class="highlight"><pre><span></span><code><span class="x">$ac=new ACMECert(&#39;INSERT_URL_TO_AMCE_CA_DIRECTORY_HERE&#39;);</span>
</code></pre></div>
<h4 id="generate-rsa-private-key">Generate RSA Private Key</h4>
<div class="highlight"><pre><span></span><code><span class="x">$key=$ac-&gt;generateRSAKey(2048);</span>
<span class="x">file_put_contents(&#39;account_key.pem&#39;,$key);</span>
</code></pre></div>
<blockquote>
<p>Equivalent to: <code>openssl genrsa -out account_key.pem 2048</code></p>
</blockquote>
<h4 id="generate-ec-private-key">Generate EC Private Key</h4>
<div class="highlight"><pre><span></span><code><span class="x">$key=$ac-&gt;generateECKey(&#39;P-384&#39;);</span>
<span class="x">file_put_contents(&#39;account_key.pem&#39;,$key);</span>
</code></pre></div>
<blockquote>
<p>Equivalent to: <code>openssl ecparam -name secp384r1 -genkey -noout -out account_key.pem</code></p>
</blockquote>
<h4 id="register-account-key-with-ca">Register Account Key with CA</h4>
<div class="highlight"><pre><span></span><code><span class="x">$ac-&gt;loadAccountKey(&#39;file://&#39;.&#39;account_key.pem&#39;);</span>
<span class="x">$ret=$ac-&gt;register(true,&#39;info@example.com&#39;);</span>
<span class="x">print_r($ret);</span>
</code></pre></div>
<h4 id="register-account-key-with-ca-using-external-account-binding">Register Account Key with CA using External Account Binding</h4>
<div class="highlight"><pre><span></span><code><span class="x">$ac-&gt;loadAccountKey(&#39;file://&#39;.&#39;account_key.pem&#39;);</span>
<span class="x">$ret=$ac-&gt;registerEAB(true,&#39;INSERT_EAB_KEY_ID_HERE&#39;,&#39;INSERT_EAB_HMAC_HERE&#39;,&#39;info@example.com&#39;);</span>
<span class="x">print_r($ret);</span>
</code></pre></div>
<h4 id="get-certificate-using-http-01-challenge">Get Certificate using <code>http-01</code> challenge</h4>
<div class="highlight"><pre><span></span><code><span class="x">$ac-&gt;loadAccountKey(&#39;file://&#39;.&#39;account_key.pem&#39;);</span>

<span class="x">$domain_config=array(</span>
<span class="x">  &#39;test1.example.com&#39;=&gt;array(&#39;challenge&#39;=&gt;&#39;http-01&#39;,&#39;docroot&#39;=&gt;&#39;/var/www/vhosts/test1.example.com&#39;),</span>
<span class="x">  &#39;test2.example.com&#39;=&gt;array(&#39;challenge&#39;=&gt;&#39;http-01&#39;,&#39;docroot&#39;=&gt;&#39;/var/www/vhosts/test2.example.com&#39;)</span>
<span class="x">);</span>

<span class="x">$handler=function($opts){</span>
<span class="x">  $fn=$opts[&#39;config&#39;][&#39;docroot&#39;].$opts[&#39;key&#39;];</span>
<span class="x">  @mkdir(dirname($fn),0777,true);</span>
<span class="x">  file_put_contents($fn,$opts[&#39;value&#39;]);</span>
<span class="x">  return function($opts){</span>
<span class="x">    unlink($opts[&#39;config&#39;][&#39;docroot&#39;].$opts[&#39;key&#39;]);</span>
<span class="x">  };</span>
<span class="x">};</span>

<span class="x">// Generate new certificate key</span>
<span class="x">$private_key=$ac-&gt;generateRSAKey(2048);</span>

<span class="x">$fullchain=$ac-&gt;getCertificateChain($private_key,$domain_config,$handler);</span>
<span class="x">file_put_contents(&#39;fullchain.pem&#39;,$fullchain);</span>
<span class="x">file_put_contents(&#39;private_key.pem&#39;,$private_key);</span>
</code></pre></div>
<h4 id="get-certificate-using-all-http-01dns-01-and-tls-alpn-01-challenge-types-together">Get Certificate using all (<code>http-01</code>,<code>dns-01</code> and <code>tls-alpn-01</code>) challenge types together</h4>
<div class="highlight"><pre><span></span><code><span class="x">$ac-&gt;loadAccountKey(&#39;file://&#39;.&#39;account_key.pem&#39;);</span>

<span class="x">$domain_config=array(</span>
<span class="x">  &#39;example.com&#39;=&gt;array(&#39;challenge&#39;=&gt;&#39;http-01&#39;,&#39;docroot&#39;=&gt;&#39;/var/www/vhosts/example.com&#39;),</span>
<span class="x">  &#39;*.example.com&#39;=&gt;array(&#39;challenge&#39;=&gt;&#39;dns-01&#39;),</span>
<span class="x">  &#39;test.example.org&#39;=&gt;array(&#39;challenge&#39;=&gt;&#39;tls-alpn-01&#39;)</span>
<span class="x">);</span>

<span class="x">$handler=function($opts) use ($ac){</span>
<span class="x">  switch($opts[&#39;config&#39;][&#39;challenge&#39;]){</span>
<span class="x">    case &#39;http-01&#39;: // automatic example: challenge directory/file is created..</span>
<span class="x">      $fn=$opts[&#39;config&#39;][&#39;docroot&#39;].$opts[&#39;key&#39;];</span>
<span class="x">      @mkdir(dirname($fn),0777,true);</span>
<span class="x">      file_put_contents($fn,$opts[&#39;value&#39;]);</span>
<span class="x">      return function($opts) use ($fn){ // ..and removed after validation completed</span>
<span class="x">        unlink($fn);</span>
<span class="x">      };</span>
<span class="x">    break;</span>
<span class="x">    case &#39;dns-01&#39;: // manual example:</span>
<span class="x">      echo &#39;Create DNS-TXT-Record &#39;.$opts[&#39;key&#39;].&#39; with value &#39;.$opts[&#39;value&#39;].&quot;\n&quot;;</span>
<span class="x">      readline(&#39;Ready?&#39;);</span>
<span class="x">      return function($opts){</span>
<span class="x">        echo &#39;Remove DNS-TXT-Record &#39;.$opts[&#39;key&#39;].&#39; with value &#39;.$opts[&#39;value&#39;].&quot;\n&quot;;</span>
<span class="x">      };</span>
<span class="x">    break;</span>
<span class="x">    case &#39;tls-alpn-01&#39;:</span>
<span class="x">      $cert=$ac-&gt;generateALPNCertificate(&#39;file://&#39;.&#39;some_private_key.pem&#39;,$opts[&#39;domain&#39;],$opts[&#39;value&#39;]);</span>
<span class="x">      // Use $cert and some_private_key.pem(&lt;- does not have to be a specific key,</span>
<span class="x">      // just make sure you generated one) to serve the certificate for $opts[&#39;domain&#39;]</span>


<span class="x">      // This example uses an included ALPN Responder - a standalone https-server</span>
<span class="x">      // written in a few lines of node.js - which is able to complete this challenge.</span>

<span class="x">      // store the generated verification certificate to be used by the ALPN Responder.</span>
<span class="x">      file_put_contents(&#39;alpn_cert.pem&#39;,$cert);</span>

<span class="x">      // To keep this example simple, the included Example ALPN Responder listens on port 443,</span>
<span class="x">      // so - for the sake of this example - you have to stop the webserver here, like:</span>
<span class="x">      shell_exec(&#39;/etc/init.d/apache2 stop&#39;);</span>

<span class="x">      // Start ALPN Responder (requires node.js)</span>
<span class="x">      $resource=proc_open(</span>
<span class="x">        &#39;node alpn_responder.js some_private_key.pem alpn_cert.pem&#39;,</span>
<span class="x">        array(</span>
<span class="x">          0=&gt;array(&#39;pipe&#39;,&#39;r&#39;),</span>
<span class="x">          1=&gt;array(&#39;pipe&#39;,&#39;w&#39;)</span>
<span class="x">        ),</span>
<span class="x">        $pipes</span>
<span class="x">      );</span>

<span class="x">      // wait until alpn responder is listening</span>
<span class="x">      fgets($pipes[1]);</span>

<span class="x">      return function($opts) use ($resource,$pipes){</span>
<span class="x">        // Stop ALPN Responder</span>
<span class="x">        fclose($pipes[0]);</span>
<span class="x">        fclose($pipes[1]);</span>
<span class="x">        proc_close($resource);</span>
<span class="x">        shell_exec(&#39;/etc/init.d/apache2 start&#39;);</span>
<span class="x">      };</span>
<span class="x">    break;</span>
<span class="x">  }</span>
<span class="x">};</span>

<span class="x">// Example for using a pre-generated CSR as input to getCertificateChain instead of a private key:</span>
<span class="x">// $csr=$ac-&gt;generateCSR(&#39;file://&#39;.&#39;cert_private_key.pem&#39;,array_keys($domain_config));</span>
<span class="x">// $fullchain=$ac-&gt;getCertificateChain($csr,$domain_config,$handler);</span>

<span class="x">$fullchain=$ac-&gt;getCertificateChain(&#39;file://&#39;.&#39;cert_private_key.pem&#39;,$domain_config,$handler);</span>
<span class="x">file_put_contents(&#39;fullchain.pem&#39;,$fullchain);</span>
</code></pre></div>
<h4 id="get-alternate-chains">Get alternate chains</h4>
<div class="highlight"><pre><span></span><code><span class="x">$chains=$ac-&gt;getCertificateChains(&#39;file://&#39;.&#39;cert_private_key.pem&#39;,$domain_config,$handler);</span>
<span class="x">if (isset($chains[&#39;ISRG Root X1&#39;])){ // use alternate chain &#39;ISRG Root X1&#39;</span>
<span class="x">  $fullchain=$chains[&#39;ISRG Root X1&#39;];</span>
<span class="x">}else{ // use default chain if &#39;ISRG Root X1&#39; is not present</span>
<span class="x">  $fullchain=reset($chains);</span>
<span class="x">}</span>
<span class="x">file_put_contents(&#39;fullchain.pem&#39;,$fullchain);</span>
</code></pre></div>
<h4 id="revoke-certificate">Revoke Certificate</h4>
<div class="highlight"><pre><span></span><code><span class="x">$ac-&gt;loadAccountKey(&#39;file://&#39;.&#39;account_key.pem&#39;);</span>
<span class="x">$ac-&gt;revoke(&#39;file://&#39;.&#39;fullchain.pem&#39;);</span>
</code></pre></div>
<h4 id="get-account-information">Get Account Information</h4>
<div class="highlight"><pre><span></span><code><span class="x">$ac-&gt;loadAccountKey(&#39;file://&#39;.&#39;account_key.pem&#39;);</span>
<span class="x">$ret=$ac-&gt;getAccount();</span>
<span class="x">print_r($ret);</span>
</code></pre></div>
<h4 id="account-key-roll-over">Account Key Roll-over</h4>
<div class="highlight"><pre><span></span><code><span class="x">$ac-&gt;loadAccountKey(&#39;file://&#39;.&#39;account_key.pem&#39;);</span>
<span class="x">$ret=$ac-&gt;keyChange(&#39;file://&#39;.&#39;new_account_key.pem&#39;);</span>
<span class="x">print_r($ret);</span>
</code></pre></div>
<h4 id="deactivate-account">Deactivate Account</h4>
<div class="highlight"><pre><span></span><code><span class="x">$ac-&gt;loadAccountKey(&#39;file://&#39;.&#39;account_key.pem&#39;);</span>
<span class="x">$ret=$ac-&gt;deactivateAccount();</span>
<span class="x">print_r($ret);</span>
</code></pre></div>
<h4 id="get-remaining-days">Get Remaining Days</h4>
<div class="highlight"><pre><span></span><code><span class="x">$days=$ac-&gt;getRemainingDays(&#39;file://&#39;.&#39;fullchain.pem&#39;); // certificate or certificate-chain</span>
<span class="x">if ($days&gt;30) { // renew 30 days before expiry</span>
<span class="x">  die(&#39;Certificate still good, exiting..&#39;);</span>
<span class="x">}</span>
<span class="x">// get new certificate here..</span>
</code></pre></div>
<blockquote>
<p>This allows you to run your renewal script without the need to time it exactly, just run it often enough. (cronjob)</p>
</blockquote>
<h2 id="logging">Logging</h2>
<p>ACMECert logs its actions using <code>error_log</code>, which logs messages to stderr per default in PHP CLI so it is easy to log to a file instead:
<div class="highlight"><pre><span></span><code><span class="x">error_reporting(E_ALL);</span>
<span class="x">ini_set(&#39;log_errors&#39;,1);</span>
<span class="x">ini_set(&#39;error_log&#39;,dirname(__FILE__).&#39;/ACMECert.log&#39;);</span>

<span class="x">## Disable error output</span>

<span class="x">If you want to disable the error output, you can use the `disableLog` method, Exceptions are nevertheless thrown.</span>
<span class="x">```php</span>
<span class="x">$ac-&gt;disableLog();</span>
</code></pre></div></p>
<h2 id="acme_exception">ACME_Exception</h2>
<p>If the ACME-Server responded with an error message an <code>\skoerfgen\ACMECert\ACME_Exception</code> is thrown. (ACME_Exception extends Exception)</p>
<p><code>ACME_Exception</code> has two additional functions:</p>
<ul>
<li><code>getType()</code> to get the ACME error code:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="x">use skoerfgen\ACMECert\ACME_Exception;</span>

<span class="x">try {</span>
<span class="x">  echo $ac-&gt;getAccountID().PHP_EOL;</span>
<span class="x">}catch(ACME_Exception $e){</span>
<span class="x">  if ($e-&gt;getType()==&#39;urn:ietf:params:acme:error:accountDoesNotExist&#39;){</span>
<span class="x">    echo &#39;Account does not exist&#39;.PHP_EOL;</span>
<span class="x">  }else{</span>
<span class="x">    throw $e; // another error occured</span>
<span class="x">  }</span>
<span class="x">}</span>
</code></pre></div>
<ul>
<li><code>getSubproblems()</code> to get an array of <code>ACME_Exception</code>s if there is more than one error returned from the ACME-Server:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="x">try {</span>
<span class="x">  $cert=$ac-&gt;getCertificateChain(&#39;file://&#39;.&#39;cert_private_key.pem&#39;,$domain_config,$handler);</span>
<span class="x">} catch (\skoerfgen\ACMECert\ACME_Exception $e){</span>
<span class="x">  $ac-&gt;log($e-&gt;getMessage()); // log original error</span>
<span class="x">  foreach($e-&gt;getSubproblems() as $subproblem){</span>
<span class="x">    $ac-&gt;log($subproblem-&gt;getMessage()); // log sub errors</span>
<span class="x">  }</span>
<span class="x">}</span>
</code></pre></div>
<h2 id="function-reference">Function Reference</h2>
<h3 id="acmecert__construct">ACMECert::__construct</h3>
<p>Creates a new ACMECert instance.
<div class="highlight"><pre><span></span><code><span class="x">public ACMECert::__construct ( string $ca_url = &#39;https://acme-v02.api.letsencrypt.org/directory&#39; )</span>
</code></pre></div></p>
<h6 id="parameters">Parameters</h6>
<blockquote>
<p><strong><code>ca_url</code></strong></p>
<p>A string containing the URL to an ACME CA directory endpoint.</p>
</blockquote>
<h6 id="return-values">Return Values</h6>
<blockquote>
<p>Returns a new ACMECert instance.</p>
</blockquote>
<hr />
<h3 id="acmecertgeneratersakey">ACMECert::generateRSAKey</h3>
<p>Generate RSA private key (used as account key or private key for a certificate).
<div class="highlight"><pre><span></span><code><span class="x">public string ACMECert::generateRSAKey ( int $bits = 2048 )</span>
</code></pre></div></p>
<h6 id="parameters_1">Parameters</h6>
<blockquote>
<p><strong><code>bits</code></strong></p>
<p>RSA key size in bits.</p>
</blockquote>
<h6 id="return-values_1">Return Values</h6>
<blockquote>
<p>Returns the generated RSA private key as PEM encoded string.</p>
</blockquote>
<h6 id="errorsexceptions">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>Exception</code> if the RSA key could not be generated.</p>
</blockquote>
<hr />
<h3 id="acmecertgenerateeckey">ACMECert::generateECKey</h3>
<p>Generate Elliptic Curve (EC) private key (used as account key or private key for a certificate).
<div class="highlight"><pre><span></span><code><span class="x">public string ACMECert::generateECKey ( string $curve_name = &#39;P-384&#39; )</span>
</code></pre></div></p>
<h6 id="parameters_2">Parameters</h6>
<blockquote>
<p><strong><code>curve_name</code></strong></p>
<p>Supported Curves by Let’s Encrypt:
* <code>P-256</code> (prime256v1)
* <code>P-384</code> (secp384r1)
* ~~<code>P-521</code> (secp521r1)~~</p>
</blockquote>
<h6 id="return-values_2">Return Values</h6>
<blockquote>
<p>Returns the generated EC private key as PEM encoded string.</p>
</blockquote>
<h6 id="errorsexceptions_1">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>Exception</code> if the EC key could not be generated.</p>
</blockquote>
<hr />
<h3 id="acmecertloadaccountkey">ACMECert::loadAccountKey</h3>
<p>Load account key.
<div class="highlight"><pre><span></span><code><span class="x">public void ACMECert::loadAccountKey ( mixed $account_key_pem )</span>
</code></pre></div></p>
<h6 id="parameters_3">Parameters</h6>
<blockquote>
<p><strong><code>account_key_pem</code></strong></p>
<p>can be one of the following:
* a string containing a PEM formatted private key.
* a string beginning with <code>file://</code> containing the filename to read a PEM formatted private key from.</p>
</blockquote>
<h6 id="return-values_3">Return Values</h6>
<blockquote>
<p>No value is returned.</p>
</blockquote>
<h6 id="errorsexceptions_2">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>Exception</code> if the account key could not be loaded.</p>
</blockquote>
<hr />
<h3 id="acmecertregister">ACMECert::register</h3>
<p>Associate the loaded account key with the CA account and optionally specify contacts.
<div class="highlight"><pre><span></span><code><span class="x">public array ACMECert::register ( bool $termsOfServiceAgreed = FALSE [, mixed $contacts = array() ] )</span>
</code></pre></div></p>
<h6 id="parameters_4">Parameters</h6>
<blockquote>
<p><strong><code>termsOfServiceAgreed</code></strong></p>
<p>By passing <code>TRUE</code>, you agree to the Terms Of Service of the selected CA. (Must be set to <code>TRUE</code> in order to successully register an account.)</p>
<p>Hint: Use <a href="#acmecertgettermsurl">getTermsURL()</a> to get the link to the current Terms Of Service.</p>
<p><strong><code>contacts</code></strong></p>
<p>can be one of the following:
1. A string containing an e-mail address
2. Array of e-mail addresses</p>
</blockquote>
<h6 id="return-values_4">Return Values</h6>
<blockquote>
<p>Returns an array containing the account information.</p>
</blockquote>
<h6 id="errorsexceptions_3">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>ACME_Exception</code> if the server responded with an error message or an <code>Exception</code> if an other registration error occured.</p>
</blockquote>
<hr />
<h3 id="acmecertregistereab">ACMECert::registerEAB</h3>
<p>Associate the loaded account key with the CA account using External Account Binding (EAB) credentials and optionally specify contacts.
<div class="highlight"><pre><span></span><code><span class="x">public array ACMECert::registerEAB ( bool $termsOfServiceAgreed, string $eab_kid, string $eab_hmac [, mixed $contacts = array() ] )</span>
</code></pre></div></p>
<h6 id="parameters_5">Parameters</h6>
<blockquote>
<p><strong><code>termsOfServiceAgreed</code></strong></p>
<p>By passing <code>TRUE</code>, you agree to the Terms Of Service of the selected CA. (Must be set to <code>TRUE</code> in order to successully register an account.)</p>
<p>Hint: Use <a href="#acmecertgettermsurl">getTermsURL()</a> to get the link to the current Terms Of Service.</p>
<p><strong><code>eab_kid</code></strong></p>
<p>a string specifying the <code>EAB Key Identifier</code></p>
<p><strong><code>eab_hmac</code></strong></p>
<p>a string specifying the <code>EAB HMAC Key</code></p>
<p><strong><code>contacts</code></strong></p>
<p>can be one of the following:
1. A string containing an e-mail address
2. Array of e-mail addresses</p>
</blockquote>
<h6 id="return-values_5">Return Values</h6>
<blockquote>
<p>Returns an array containing the account information.</p>
</blockquote>
<h6 id="errorsexceptions_4">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>ACME_Exception</code> if the server responded with an error message or an <code>Exception</code> if an other registration error occured.</p>
</blockquote>
<hr />
<h3 id="acmecertupdate">ACMECert::update</h3>
<p>Update account contacts.
<div class="highlight"><pre><span></span><code><span class="x">public array ACMECert::update ( mixed $contacts = array() )</span>
</code></pre></div></p>
<h6 id="parameters_6">Parameters</h6>
<blockquote>
<p><strong><code>contacts</code></strong></p>
<p>can be one of the following:
* A string containing an e-mail address
* Array of e-mail addresses</p>
</blockquote>
<h6 id="return-values_6">Return Values</h6>
<blockquote>
<p>Returns an array containing the account information.</p>
</blockquote>
<h6 id="errorsexceptions_5">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>ACME_Exception</code> if the server responded with an error message or an <code>Exception</code> if an other error occured updating the account.</p>
</blockquote>
<hr />
<h3 id="acmecertgetaccount">ACMECert::getAccount</h3>
<p>Get Account Information.
<div class="highlight"><pre><span></span><code><span class="x">public array ACMECert::getAccount()</span>
</code></pre></div></p>
<h6 id="return-values_7">Return Values</h6>
<blockquote>
<p>Returns an array containing the account information.</p>
</blockquote>
<h6 id="errorsexceptions_6">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>ACME_Exception</code> if the server responded with an error message or an <code>Exception</code> if an other error occured getting the account information.</p>
</blockquote>
<hr />
<h3 id="acmecertgetaccountid">ACMECert::getAccountID</h3>
<p>Get Account ID.
<div class="highlight"><pre><span></span><code><span class="x">public string ACMECert::getAccountID()</span>
</code></pre></div></p>
<h6 id="return-values_8">Return Values</h6>
<blockquote>
<p>Returns the Account ID</p>
</blockquote>
<h6 id="errorsexceptions_7">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>ACME_Exception</code> if the server responded with an error message or an <code>Exception</code> if an other error occured getting the account id.</p>
</blockquote>
<hr />
<h3 id="acmecertkeychange">ACMECert::keyChange</h3>
<p>Account Key Roll-over (exchange the current account key with another one).</p>
<blockquote>
<p>If the Account Key Roll-over succeeded, the new account key is automatically loaded via <a href="#acmecertloadaccountkey"><code>loadAccountKey</code></a>
<div class="highlight"><pre><span></span><code><span class="x">public array ACMECert::keyChange ( mixed $new_account_key_pem )</span>
</code></pre></div></p>
</blockquote>
<h6 id="parameters_7">Parameters</h6>
<blockquote>
<p><strong><code>new_account_key_pem</code></strong></p>
<p>can be one of the following:
* a string containing a PEM formatted private key.
* a string beginning with <code>file://</code> containing the filename to read a PEM formatted private key from.</p>
</blockquote>
<h6 id="return-values_9">Return Values</h6>
<blockquote>
<p>Returns an array containing the account information.</p>
</blockquote>
<h6 id="errorsexceptions_8">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>ACME_Exception</code> if the server responded with an error message or an <code>Exception</code> if an other error occured during key change.</p>
</blockquote>
<hr />
<h3 id="acmecertdeactivateaccount">ACMECert::deactivateAccount</h3>
<p>Deactivate account.
<div class="highlight"><pre><span></span><code><span class="x">public array ACMECert::deactivateAccount()</span>
</code></pre></div></p>
<h6 id="return-values_10">Return Values</h6>
<blockquote>
<p>Returns an array containing the account information.</p>
</blockquote>
<h6 id="errorsexceptions_9">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>ACME_Exception</code> if the server responded with an error message or an <code>Exception</code> if an other error occured during account deactivation.</p>
</blockquote>
<hr />
<h3 id="acmecertgetcertificatechain">ACMECert::getCertificateChain</h3>
<p>Get certificate-chain (certificate + the intermediate certificate(s)).</p>
<p><em>This is what Apache &gt;= 2.4.8 needs for <a href="https://httpd.apache.org/docs/current/mod/mod_ssl.html#sslcertificatefile"><code>SSLCertificateFile</code></a>, and what Nginx needs for <a href="http://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_certificate"><code>ssl_certificate</code></a>.</em>
<div class="highlight"><pre><span></span><code><span class="x">public string ACMECert::getCertificateChain ( mixed $pem, array $domain_config, callable $callback, array $settings = array() )</span>
</code></pre></div></p>
<h6 id="parameters_8">Parameters</h6>
<blockquote>
<p><strong><code>pem</code></strong></p>
<p>A Private Key used for the certificate (the needed CSR is generated automatically using the given key in this case) or an already existing CSR in one of the following formats:</p>
<ul>
<li>a string containing a PEM formatted private key.</li>
<li>a string beginning with <code>file://</code> containing the filename to read a PEM encoded private key from.<br />
  or</li>
<li>a string beginning with <code>file://</code> containing the filename to read a PEM encoded CSR from.</li>
<li>a string containing the content of a CSR, PEM encoded, may start with <code>-----BEGIN CERTIFICATE REQUEST-----</code></li>
</ul>
<p><strong><code>domain_config</code></strong></p>
<p>An Array defining the domains and the corresponding challenge types to get a certificate for.</p>
<p>The first one is used as <code>Common Name</code> for the certificate.</p>
<p>Here is an example structure:
<div class="highlight"><pre><span></span><code><span class="x">$domain_config=array(</span>
<span class="x">  &#39;*.example.com&#39;=&gt;array(&#39;challenge&#39;=&gt;&#39;dns-01&#39;),</span>
<span class="x">  &#39;test.example.org&#39;=&gt;array(&#39;challenge&#39;=&gt;&#39;tls-alpn-01&#39;)</span>
<span class="x">  &#39;test.example.net&#39;=&gt;array(&#39;challenge&#39;=&gt;&#39;http-01&#39;,&#39;docroot&#39;=&gt;&#39;/var/www/vhosts/test1.example.com&#39;),</span>
<span class="x">);</span>
</code></pre></div></p>
<blockquote>
<p>Hint: Wildcard certificates (<code>*.example.com</code>) are only supported with the <code>dns-01</code> challenge type.</p>
</blockquote>
<p><code>challenge</code> is mandatory and has to be one of <code>http-01</code>, <code>dns-01</code> or <code>tls-alpn-01</code>.
All other keys are optional and up to you to be used and are later available in the callback function as <code>$opts['config']</code>
(see the <a href="#get-certificate-using-http-01-challenge">http-01 example</a> where <code>docroot</code> is used this way)</p>
<p><strong><code>callback</code></strong></p>
<p>Callback function which gets invoked every time a challenge needs to be fulfilled.
<div class="highlight"><pre><span></span><code><span class="x">callable callback ( array $opts )</span>
</code></pre></div></p>
<p>Inside a callback function you can return another callback function, which gets invoked after the verification completed and the challenge tokens can be removed again.</p>
<blockquote>
<p>Hint: To get access to variables of the parent scope inside the callback function use the <a href="http://php.net/manual/en/functions.anonymous.php"><code>use</code></a> languange construct:
<div class="highlight"><pre><span></span><code><span class="x">$handler=function($opts) use ($variable_from_parent_scope){};</span>
<span class="x">                         ^^^</span>
</code></pre></div></p>
</blockquote>
<p>The <code>$opts</code> array passed to the callback function contains the following keys:</p>
<blockquote>
<p><strong><code>$opts['domain']</code></strong></p>
<p>Domain name to be validated.</p>
<p><strong><code>$opts['config']</code></strong></p>
<p>Corresponding element of the <code>domain_config</code> array.</p>
<p><strong><code>$opts['key']</code></strong> and <strong><code>$opts['value']</code></strong></p>
<p>Contain the following, depending on the chosen challenge type:</p>
<table>
<thead>
<tr>
<th>Challenge Type</th>
<th><code>$opts['key']</code></th>
<th><code>$opts['value']</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>http-01</td>
<td>path + filename</td>
<td>file contents</td>
</tr>
<tr>
<td>dns-01</td>
<td>TXT Resource Record Name</td>
<td>TXT Resource Record Value</td>
</tr>
<tr>
<td>tls-alpn-01</td>
<td>unused</td>
<td>token used in the acmeIdentifier extension of the verification certificate; use <a href="#acmecertgeneratealpncertificate">generateALPNCertificate</a> to generate the verification certificate from that token. (see the <a href="#get-certificate-using-all-http-01dns-01-and-tls-alpn-01-challenge-types-together">tls-alpn-01 example</a>)</td>
</tr>
</tbody>
</table>
</blockquote>
<p><strong><code>settings</code></strong> (optional)</p>
<p>This array can have the following keys:</p>
<blockquote>
<p><strong><code>authz_reuse</code></strong> (boolean / default: <code>TRUE</code>)</p>
<p>If <code>FALSE</code> the callback function is always called for each domain and does not get skipped due to possibly already valid authorizations (authz) that are reused. This is achieved by deactivating already valid authorizations before getting new ones.</p>
<blockquote>
<p>Hint: Under normal circumstances this is only needed when testing the callback function, not in production!</p>
</blockquote>
<p><strong><code>notBefore</code></strong> / <strong><code>notAfter</code></strong> (mixed)</p>
<p>can be one of the following:
* a string containing a RFC 3339 formated date
* a timestamp (integer)</p>
<p>Example: Certificate valid for 3 days:
<div class="highlight"><pre><span></span><code><span class="x">array( &#39;notAfter&#39; =&gt; time() + (60*60*24) * 3 )</span>
</code></pre></div>
or
<div class="highlight"><pre><span></span><code><span class="x">array( &#39;notAfter&#39; =&gt; &#39;1970-01-01T01:22:17+01:00&#39; )</span>
</code></pre></div></p>
</blockquote>
</blockquote>
<h6 id="return-values_11">Return Values</h6>
<blockquote>
<p>Returns a PEM encoded certificate chain.</p>
</blockquote>
<h6 id="errorsexceptions_10">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>ACME_Exception</code> if the server responded with an error message or an <code>Exception</code> if an other error occured obtaining the certificate.</p>
</blockquote>
<hr />
<h3 id="acmecertgetcertificatechains">ACMECert::getCertificateChains</h3>
<p>Get all (default and alternate) certificate-chains.
This function takes the same arguments as the <a href="#acmecertgetcertificatechain">getCertificateChain</a> function above, but it returns an array of certificate chains instead of a single chain.</p>
<div class="highlight"><pre><span></span><code><span class="x">public string ACMECert::getCertificateChains ( mixed $pem, array $domain_config, callable $callback, array $settings = array() )</span>
</code></pre></div>
<h6 id="return-values_12">Return Values</h6>
<blockquote>
<p>Returns an array of PEM encoded certificate chains.</p>
<p>The keys of the returned array correspond to the issuer <code>Common Name</code> (CN) of the topmost (closest to the root certificate) intermediate certificate.</p>
<p>The first element of the returned array is the default chain.</p>
</blockquote>
<h6 id="errorsexceptions_11">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>ACME_Exception</code> if the server responded with an error message or an <code>Exception</code> if an other error occured obtaining the certificate chains.</p>
</blockquote>
<hr />
<h3 id="acmecertrevoke">ACMECert::revoke</h3>
<p>Revoke certificate.
<div class="highlight"><pre><span></span><code><span class="x">public void ACMECert::revoke ( mixed $pem )</span>
</code></pre></div></p>
<h6 id="parameters_9">Parameters</h6>
<blockquote>
<p><strong><code>pem</code></strong></p>
<p>can be one of the following:
* a string beginning with <code>file://</code> containing the filename to read a PEM encoded certificate or certificate-chain from.
* a string containing the content of a certificate or certificate-chain, PEM encoded, may start with <code>-----BEGIN CERTIFICATE-----</code></p>
</blockquote>
<h6 id="return-values_13">Return Values</h6>
<blockquote>
<p>No value is returned.</p>
<p>If the function completes without Exception, the certificate was successully revoked.</p>
</blockquote>
<h6 id="errorsexceptions_12">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>ACME_Exception</code> if the server responded with an error message or an <code>Exception</code> if an other error occured revoking the certificate.</p>
</blockquote>
<hr />
<h3 id="acmecertgeneratecsr">ACMECert::generateCSR</h3>
<p>Generate CSR for a set of domains.
<div class="highlight"><pre><span></span><code><span class="x">public string ACMECert::generateCSR ( mixed $private_key, array $domains )</span>
</code></pre></div></p>
<h6 id="parameters_10">Parameters</h6>
<blockquote>
<p><strong><code>private_key</code></strong></p>
<p>can be one of the following:
* a string containing a PEM formatted private key.
* a string beginning with <code>file://</code> containing the filename to read a PEM formatted private key from.</p>
<p><strong><code>domains</code></strong></p>
<p>Array of domains</p>
</blockquote>
<h6 id="return-values_14">Return Values</h6>
<blockquote>
<p>Returns the generated CSR as string.</p>
</blockquote>
<h6 id="errorsexceptions_13">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>Exception</code> if the CSR could not be generated.</p>
</blockquote>
<hr />
<h3 id="acmecertgeneratealpncertificate">ACMECert::generateALPNCertificate</h3>
<p>Generate a self signed verification certificate containing the acmeIdentifier extension used in <strong><code>tls-alpn-01</code></strong> challenge.
<div class="highlight"><pre><span></span><code><span class="x">public string ACMECert::generateALPNCertificate ( mixed $private_key, string $domain, string $token )</span>
</code></pre></div></p>
<h6 id="parameters_11">Parameters</h6>
<blockquote>
<p><strong><code>private_key</code></strong></p>
<p>private key used for the certificate.</p>
<p>can be one of the following:
* a string containing a PEM formatted private key.
* a string beginning with <code>file://</code> containing the filename to read a PEM formatted private key from.</p>
<p><strong><code>domain</code></strong></p>
<p>domain name to be validated.</p>
<p><strong><code>token</code></strong></p>
<p>verification token.</p>
</blockquote>
<h6 id="return-values_15">Return Values</h6>
<blockquote>
<p>Returns a PEM encoded verification certificate.</p>
</blockquote>
<h6 id="errorsexceptions_14">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>Exception</code> if the certificate could not be generated.</p>
</blockquote>
<hr />
<h3 id="acmecertparsecertificate">ACMECert::parseCertificate</h3>
<p>Get information about a certificate.
<div class="highlight"><pre><span></span><code><span class="x">public array ACMECert::parseCertificate ( mixed $pem )</span>
</code></pre></div></p>
<h6 id="parameters_12">Parameters</h6>
<blockquote>
<p><strong><code>pem</code></strong></p>
<p>can be one of the following:
* a string beginning with <code>file://</code> containing the filename to read a PEM encoded certificate or certificate-chain from.
* a string containing the content of a certificate or certificate-chain, PEM encoded, may start with <code>-----BEGIN CERTIFICATE-----</code></p>
</blockquote>
<h6 id="return-values_16">Return Values</h6>
<blockquote>
<p>Returns an array containing information about the certificate.</p>
</blockquote>
<h6 id="errorsexceptions_15">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>Exception</code> if the certificate could not be parsed.</p>
</blockquote>
<hr />
<h3 id="acmecertgetremainingdays">ACMECert::getRemainingDays</h3>
<p>Get the number of days the certificate is still valid.
<div class="highlight"><pre><span></span><code><span class="x">public float ACMECert::getRemainingDays ( mixed $pem )</span>
</code></pre></div></p>
<h6 id="parameters_13">Parameters</h6>
<blockquote>
<p><strong><code>pem</code></strong></p>
<p>can be one of the following:
* a string beginning with <code>file://</code> containing the filename to read a PEM encoded certificate or certificate-chain from.
* a string containing the content of a certificate or certificate-chain, PEM encoded, may start with <code>-----BEGIN CERTIFICATE-----</code></p>
</blockquote>
<h6 id="return-values_17">Return Values</h6>
<blockquote>
<p>Returns how many days the certificate is still valid.</p>
</blockquote>
<h6 id="errorsexceptions_16">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>Exception</code> if the certificate could not be parsed.</p>
</blockquote>
<hr />
<h3 id="acmecertsplitchain">ACMECert::splitChain</h3>
<p>Split a string containing a PEM encoded certificate chain into an array of individual certificates.
<div class="highlight"><pre><span></span><code><span class="x">public array ACMECert::splitChain ( string $pem )</span>
</code></pre></div></p>
<h6 id="parameters_14">Parameters</h6>
<blockquote>
<p><strong><code>pem</code></strong>
* a certificate-chain as string, PEM encoded.</p>
</blockquote>
<h6 id="return-values_18">Return Values</h6>
<blockquote>
<p>Returns an array of PEM encoded individual certificates.</p>
</blockquote>
<h6 id="errorsexceptions_17">Errors/Exceptions</h6>
<blockquote>
<p>None</p>
</blockquote>
<hr />
<h3 id="acmecertgetcaaidentities">ACMECert::getCAAIdentities</h3>
<p>Get a list of all CAA Identities for the selected CA. (Useful for setting up CAA DNS Records)
<div class="highlight"><pre><span></span><code><span class="x">public array ACMECert::getCAAIdentities()</span>
</code></pre></div></p>
<h6 id="return-values_19">Return Values</h6>
<blockquote>
<p>Returns an array containing all CAA Identities for the selected CA.</p>
</blockquote>
<h6 id="errorsexceptions_18">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>ACME_Exception</code> if the server responded with an error message or an <code>Exception</code> if an other error occured getting the CAA Identities.</p>
</blockquote>
<hr />
<h3 id="acmecertgetsan">ACMECert::getSAN</h3>
<p>Get all Subject Alternative Names of given certificate.
<div class="highlight"><pre><span></span><code><span class="x">public array ACMECert::getSAN( mixed $pem )</span>
</code></pre></div></p>
<h6 id="parameters_15">Parameters</h6>
<blockquote>
<p><strong><code>pem</code></strong></p>
<p>can be one of the following:
* a string beginning with <code>file://</code> containing the filename to read a PEM encoded certificate or certificate-chain from.
* a string containing the content of a certificate or certificate-chain, PEM encoded, may start with <code>-----BEGIN CERTIFICATE-----</code></p>
</blockquote>
<h6 id="return-values_20">Return Values</h6>
<blockquote>
<p>Returns an array containing all Subject Alternative Names of given certificate.</p>
</blockquote>
<h6 id="errorsexceptions_19">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>Exception</code> if an error occured getting the Subject Alternative Names.</p>
</blockquote>
<hr />
<h3 id="acmecertgettermsurl">ACMECert::getTermsURL</h3>
<p>Get URL to Terms Of Service for the selected CA.
<div class="highlight"><pre><span></span><code><span class="x">public array ACMECert::getTermsURL()</span>
</code></pre></div></p>
<h6 id="return-values_21">Return Values</h6>
<blockquote>
<p>Returns a string containing a URL to the Terms Of Service for the selected CA.</p>
</blockquote>
<h6 id="errorsexceptions_20">Errors/Exceptions</h6>
<blockquote>
<p>Throws an <code>ACME_Exception</code> if the server responded with an error message or an <code>Exception</code> if an other error occured getting the Terms Of Service.</p>
</blockquote>
<hr />
<blockquote>
<p>MIT License</p>
<p>Copyright (c) 2018 Stefan Körfgen</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p>
</blockquote>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">November 9, 2023 15:31:43</span>
      
        <br>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">November 8, 2023 02:00:13</span>
      
    
  </small>
</div>





                

  
    <div class="md-source-date">
      <small>
          Authors: <span class='git-page-authors git-authors'><a href='mailto:adrian.preuss@icloud.com'>Bizarrus</a> (99.6%), <a href='mailto:konstantinos.botonakis@wpengine.com'>Konstantinos Botonakis</a> (0.4%)</span>
      </small>
    </div>
  

              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../Parsedown/index.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Index" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Index
            </div>
          </div>
        </a>
      
      
        
        <a href="LICENSE.html" class="md-footer__link md-footer__link--next" aria-label="Next: LICENSE" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              LICENSE
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
<script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    

<script src="../../search/search_index.js"></script>


    
      <script src="../../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
        <script src="../../js/arithmatex.config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>